# [PRD] 큐브 크래프트 AI (CubeCraft AI)

## 1. 제품 개요
* **제품명:** 큐브 크래프트 AI (CubeCraft AI)
* **목표:** 빈 격자 공간에서 시작하여 사용자가 입력한 외부 이미지 URL을 블록 텍스처로 입히고, 스마트 단축키를 통해 창의적인 3D 구조물을 설계하는 웹 기반 저작 도구입니다.
* **타겟:** 나만의 커스텀 재질을 사용해 빠르고 직관적으로 3D 복셀 아트를 만들고 싶은 창작자 및 입문자.

## 2. 주요 기능 및 요구사항

### 2.1 3D 작업 공간 (Workspace)
* **초기 상태 (Empty Grid):** 앱 실행 시 블록이 하나도 없는 깨끗한 격자무늬 바닥에서 시작합니다.
* **시점 제어:** Three.js의 OrbitControls를 활용하여 마우스 드래그(회전), 우클릭 드래그(이동), 휠(줌 인/아웃)이 가능해야 합니다.
* **조작 가이드:** 화면 좌측 상단 'CONTROL SYSTEM' 패널에 조작법을 상시 노출합니다.

### 2.2 스마트 건설 시스템 (Core Interaction)
* **모드 전환 단축키 (Q):** * 키보드 **'Q'** 키를 누르면 **[건설 모드]**와 **[제거 모드]**가 즉시 토글(Toggle)됩니다.
    * 모드 전환 시 하단 UI의 버튼 상태도 실시간으로 동기화되어야 합니다.
* **블록 커스터마이징:**
    * **크기 조절 (W/H/D):** 1~4 단계의 수치 설정을 통해 다양한 직육면체 블록을 생성합니다.
		* **기본 블록 색상:** 기본 블록은 Color Picker로 선택하여 렌더링합니다.
* **블록 배치:** 마우스 왼쪽 클릭으로 현재 선택된 크기와 텍스처의 블록을 격자 공간에 배치합니다. 배치할 곳에 블록이 이미 존재할 경우, 그 위에 새로운 블록을 쌓습니다.
* **블록 제거:** 제거 모드에서 마우스 클릭으로 기존에 배치된 블록을 삭제합니다.
* **블록 미리보기:** 마우스 커서 위치에 현재 선택된 크기의 반투명 블록이 표시.
* **초기화:** 'RESET' 버튼 클릭 시 현재 작업 중인 모든 블록을 제거하고 빈 격자 상태로 돌아갑니다.
* 격자 바닥은 항상 표시되어야 하며, 바닥 위로 블록이 쌓이는 형태로 구현합니다. 바닥은 삭제 할 수 없습니다.
* 격자 라인은 바닥과 대비 되는 색상으로 표시되어야 합니다.

### 2.3 커스텀 텍스처 시스템 (Texture System)
* **외부 URL 로드:** * 사용자가 직접 이미지 주소(URL)를 입력할 수 있는 필드를 제공합니다.
    * 입력된 URL의 이미지를 블록의 6면에 실시간으로 맵핑하여 적용합니다.

### 2.4 외부 텍스쳐 이미지 주소
* 나뭇잎 : https://github.com/aiappstorylab/GoogleAIStudioApp/blob/main/asset/leaf.png
* 용암 : https://github.com/aiappstorylab/GoogleAIStudioApp/blob/main/asset/lava.png
* 석재 : https://github.com/aiappstorylab/GoogleAIStudioApp/blob/main/asset/stone.png
* 목재 : https://github.com/aiappstorylab/GoogleAIStudioApp/blob/main/asset/tree.png
* 수면 : https://github.com/aiappstorylab/GoogleAIStudioApp/blob/main/asset/water.png

### 2.4 AI 분석 및 데이터 관리
* **디자인 AI 분석:** 하단의 '✨ 디자인 AI 분석' 버튼 클릭 시, 현재 배치된 구조물을 AI가 분석하여 건축적 피드백을 제공합니다.
* **데이터 내보내기:** 작업 화면을 이미지(.png)로 저장하거나, 블록 위치 데이터를 JSON 형식으로 저장합니다.
* **데이터 불러오기:** 이전에 저장한 JSON 데이터를 불러와 동일한 구조물을 재현할 수 있습니다.

### 2.5 UI/UX 요구사항
* **직관적 인터페이스:** 모든 주요 기능은 명확한 아이콘과 레이블로 표시되어야 하며, 사용자가 쉽게 이해하고 접근할 수 있어야 합니다.
* **미리보기 블록 주의사항:** 마우스 움직일때 크기가 미리보기 블록 크기가 변경되면 안됩니다.
## 3. 사용자 흐름 (User Flow)
1.  **앱 접속:** 아무것도 없는 빈 그리드 공간 확인.
2.  **질감 설정:** 이미지 URL을 입력하거나 프리셋을 클릭하여 블록의 재질 결정.
3.  **조립 및 편집:** * 마우스 클릭으로 블록을 배치.
    * **'Q' 키**를 눌러 모드를 전환하며 잘못된 블록을 신속하게 삭제.
4.  **분석 및 저장:** AI의 조언을 참고하여 수정한 뒤 최종 결과물을 저장.

## 4. 성공 지표
* **반응성:** 'Q' 키를 이용한 모드 전환 시 지연 없는 즉각적인 피드백 제공.
* **호환성:** 다양한 외부 이미지 URL을 안정적으로 블록 텍스처로 렌더링하는 능력.